# test every trait
{
    var a = "hello World!"
    # item get
    assert $a[0] == "h"
    # item assign
    $a[0] = "H"
    assert $a[0] == "H"
    # item in
    assert ("Hello" in $a) and ("World!" in $a)
    # truthy
    if "" {
        assert false
    } else {
        assert true
    }
    if "something" {
        assert true
    } else {
        assert false
    }
    # equality
    assert $a == "Hello World!"
}

# test every method
{
    var a = "a,b,c"
    var res = $a.split(",")
    assert $res.len() == 3
    assert $res[0] == "a" and $res[1] == "b" and $res[2] == "c"

    $a = "a!!b!!c!!"
    $res = $a.split("!!")
    assert $res.len() == 3
    assert $res[0] == "a" and $res[1] == "b" and $res[2] == "c"
}

# stress test GC with string allocations
{
    var a = "string"
    loop i in ..1000 {
        $a = "string_lol"
    }
}
